<h1>with</h1>

<p>Compile time <code>with</code> for strict mode JavaScript</p>

<p><a href="http://travis-ci.org/ForbesLindesay/with"><img src="https://secure.travis-ci.org/ForbesLindesay/with.png" alt="build status" /></a>
<a href="https://gemnasium.com/ForbesLindesay/with"><img src="https://gemnasium.com/ForbesLindesay/with.png" alt="Dependency Status" /></a>
<a href="http://badge.fury.io/js/with"><img src="https://badge.fury.io/js/with.png" alt="NPM version" /></a></p>

<h2>Installation</h2>

<pre><code>$ npm install with
</code></pre>

<h2>Usage</h2>

<p>```js
var addWith = require(&#8216;with&#8217;)</p>

<p>addWith(&#8216;obj&#8217;, &#8216;console.log(a)&#8217;)
// =&gt; &#8220;var a = obj.a;console.log(a)&#8221;</p>

<p>addWith(&#8220;obj || {}&#8221;, &#8220;console.log(helper(a))&#8221;, [&#8220;helper&#8221;])
// =&gt; var locals = (obj || {}),a = locals.a;console.log(helper(a))
```</p>

<h2>API</h2>

<h3>addWith(obj, src, [exclude])</h3>

<p>The idea is that this is roughly equivallent to:</p>

<p><code>js
with (obj) {
  src
}
</code></p>

<p>There are a few differences though.  For starters, it will be assumed that all variables used in <code>src</code> come from <code>obj</code> so any that don&#8217;t (e.g. template helpers) need to have their names parsed to <code>exclude</code> as an array.</p>

<p>It also makes everything be declared, so you can always do:</p>

<p><code>js
if (foo === undefined)
</code></p>

<p>instead of</p>

<p><code>js
if (typeof foo === 'undefined')
</code></p>

<p>It is also safe to use in strict mode (unlike <code>with</code>) and it minifies properly (<code>with</code> disables virtually all minification).</p>

<h2>License</h2>

<p>MIT</p>
