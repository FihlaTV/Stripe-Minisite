<p><a href="https://travis-ci.org/samccone/monocle"><img src="https://travis-ci.org/samccone/monocle.png?branch=master" alt="Build Status" /></a></p>

<h1>Monocle &#8211; a tool for watching things</h1>

<p><a href="https://raw.github.com/samccone/monocle/master/logo.png"><img src="https://raw.github.com/samccone/monocle/master/logo.png" alt="logo" /></a></p>

<p>Have you ever wanted to watch a folder and all of its files/nested folders for changes. well now you can!</p>

<h2>Installation</h2>

<p><code>
npm install monocle
</code></p>

<h2>Usage</h2>

<h3>Watch a directory:</h3>

<p><code>js
var monocle = require('monocle')()
monocle.watchDirectory({
  root: &lt;root directory&gt;,
  fileFilter: &lt;optional&gt;,
  directoryFilter: &lt;optional&gt;,
  listener: fn(fs.stat+ object), //triggered on file change / addition
  complete: &lt;fn&gt; //file watching all set up
});
</code></p>

<p>The listener will recive an object with the following</p>

<p><code>js
  name: &lt;filename&gt;,
  path: &lt;filepath-relative&gt;,
  fullPath: &lt;filepath-absolute&gt;,
  parentDir: &lt;parentDir-relative&gt;,
  fullParentDir: &lt;parentDir-absolute&gt;,
  stat: &lt;see fs.stats&gt;
</code></p>

<p><a href="http://nodejs.org/api/fs.html#fs_class_fs_stats">fs.stats</a></p>

<p>When a new file is added to the directoy it triggers a file change and thus will be passed to your specified listener.</p>

<p>The two filters are passed through to <code>readdirp</code>.  More documentation can be found <a href="https://github.com/thlorenz/readdirp#filters">here</a></p>

<h3>Watch a list of files:</h3>

<p><code>js
Monocle.watchFiles({
  files: [], //path of file(s)
  listener: &lt;fn(fs.stat+ object)&gt;, //triggered on file / addition
  complete: &lt;fn&gt; //file watching all set up
});
</code></p>

<h3>Just watch path</h3>

<p>Just an alias of <code>watchFiles</code> and <code>watchDirectory</code> so you don&#8217;t need to tell if that&#8217;s a file or a directory by yourself. Parameter passed to <code>path</code> can be a <code>string</code> or a <code>array</code> of <code>string</code>.</p>

<p><code>js
Monocle.watchFiles({
  path: [], //list of pathes, or a string of path
  listener: &lt;fn(fs.stat+ object)&gt;, //triggered on file / addition
  complete: &lt;fn&gt; //file watching all set up
});
</code></p>

<h2>Why not just use fs.watch ?</h2>

<ul>
  <li>file watching is really bad cross platforms in node</li>
  <li>you need to be smart when using fs.watch as compared to fs.watchFile</li>
  <li>Monocle takes care of this logic for you!</li>
  <li>windows systems use fs.watch</li>
  <li>osx and linux uses fs.watchFile</li>
</ul>

<h2>License</h2>

<p>BSD</p>
